# 自己参照リンクの無効化機能実装

## 問題
リンク先が自己参照となる場合は特殊リンクを設定しないでほしい

## 実装内容

### 1. 自己参照ルールの追加
`lib/markdown-client.ts`の`DEFAULT_LINK_EXCEPTION_RULES`に自己参照ルールを追加しました：

```typescript
{
  id: 'self-reference',
  type: 'self-reference',
  enabled: true,
  pattern: undefined,
  description: '自ファイル名参照の場合は特殊リンクを設定しない'
}
```

### 2. 型定義の修正
`types/index.ts`の`LinkExceptionRule`インターフェースで`pattern`プロパティをオプショナルに変更：

```typescript
export interface LinkExceptionRule {
  id?: string
  name?: string
  pattern?: RegExp  // 必須からオプショナルに変更
  description: string
  enabled?: boolean
  type?: string
  config?: any
}
```

### 3. 既存の自己参照チェック機能
`shouldSkipLink`関数で既に自己参照チェックが実装されていました：

```typescript
case 'self-reference':
  if (match === currentFileName) {
    return true
  }
  break
```

## 動作確認

### ドキュメントページ
- `ContentPane.tsx`で`processContentWithLinks(doc.html, terms, docs, doc.title)`を呼び出し
- `doc.title`が`currentFileName`として渡されるため、自己参照チェックが適用される

### 用語ページ
- `SubPane.tsx`で`processContentWithLinks(term.html, terms, docs, term.title)`を呼び出し
- `term.title`が`currentFileName`として渡されるため、自己参照チェックが適用される

## 結果
✅ ドキュメントページで自分のタイトルと同じテキストが特殊リンク化されなくなりました
✅ 用語ページで自分のタイトルと同じテキストが特殊リンク化されなくなりました
✅ 自己参照ルールがデフォルトで有効になりました
✅ 型エラーが解消されました

## 修正ファイル
1. `lib/markdown-client.ts`: 自己参照ルールを`DEFAULT_LINK_EXCEPTION_RULES`に追加
2. `types/index.ts`: `LinkExceptionRule`の`pattern`プロパティをオプショナルに変更