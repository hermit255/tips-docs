# メニューペインのドキュメント/用語一覧でフォルダ構造を再現する機能実装

## 実装内容

### 1. 用語一覧でもフォルダ構造を再現する機能を追加

- `lib/markdown-client.ts`に`buildTermMenuStructure`関数を追加
- 用語ファイルでもドキュメントと同様にフォルダ構造を構築する機能を実装

### 2. MenuPane.tsxの修正

- 用語一覧でもフォルダ構造を表示するように`renderTermMenuItem`関数を実装
- フォルダとファイルを区別して表示（📁 フォルダ、📖 用語ファイル）
- インデントによる階層表示を実装

### 3. 用語選択処理の修正

- 用語選択を`term.slug`ベースから`term.path`ベースに変更
- フォルダ構造に対応するため、用語の識別子を統一

### 4. 関連コンポーネントの修正

- `ContentPane.tsx`: 用語選択処理を`path`ベースに変更
- `SubPane.tsx`: 用語表示と選択処理を`path`ベースに変更
- `app/page.tsx`: 用語選択ハンドラーを`path`ベースに変更

### 5. APIエンドポイントの修正

- `app/api/terms/[slug]/route.ts`: 用語検索を`path`ベースに変更

### 6. 特殊リンク処理の修正

- `markdown-client.ts`の`processContentWithLinks`関数で用語リンクの識別子を`path`ベースに変更

## 技術的な変更点

### 型定義の変更
- 用語選択の引数型を`termSlug: string`から`termPath: string`に変更

### 関数の追加
```typescript
export function buildTermMenuStructure(terms: TermFile[]): MenuItem[]
```

### 修正されたファイル
1. `lib/markdown-client.ts` - 用語メニュー構造構築関数の追加と特殊リンク処理の修正
2. `components/MenuPane.tsx` - 用語一覧のフォルダ構造表示機能の実装
3. `components/ContentPane.tsx` - 用語選択処理の修正
4. `components/SubPane.tsx` - 用語表示と選択処理の修正
5. `app/page.tsx` - 用語選択ハンドラーの修正
6. `app/api/terms/[slug]/route.ts` - APIエンドポイントの修正

## 実装結果

- ドキュメント一覧と用語一覧の両方でフォルダ構造が再現される
- フォルダとファイルが視覚的に区別される
- 階層構造がインデントで表現される
- 用語選択がフォルダ構造に対応して正常に動作する

## 動作確認

- Docker Composeでサービスを起動
- リンターエラーを修正
- 実装が完了し、動作確認済み
